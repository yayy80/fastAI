<!DOCTYPE html>
<html>
  <head>
    <title>fastAI Chatbot</title>
  </head>
  <body>
    <h1>fastAI Chatbot</h1>
    <div id="chat-window"></div>
    <div>
      <input type="text" id="user-input">
      <button onclick="sendUserInput()">Send</button>
    </div>
    <script>
      // Function to send user input to the server and get a response
      function sendUserInput() {
        var inputElement = document.getElementById("user-input");
        var userInput = inputElement.value;
        inputElement.value = "";

        // Send the user input to the server using AJAX
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "/generate-response");
        xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        xhr.onload = function () {
          if (xhr.status === 200) {
            var response = JSON.parse(xhr.responseText).response;
            var chatWindow = document.getElementById("chat-window");
            chatWindow.innerHTML += "<p><strong>You:</strong> " + userInput + "</p>";
            chatWindow.innerHTML += "<p><strong>fastAI:</strong> " + response + "</p>";
          }
        };
        xhr.send(JSON.stringify({ input: userInput }));
      }
    </script>
  </body>
</html>
